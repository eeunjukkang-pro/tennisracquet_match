@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');

/* 웹사이트 전체 글자 선택(드래그) 방지 */
body {
  -webkit-user-select: none; /* Safari */
  -moz-user-select: none;    /* Firefox */
  -ms-user-select: none;     /* IE10+/Edge */
  user-select: none;         /* 표준 */
}

/* 입력창(input)과 텍스트 상자(textarea)는 글자를 쓰고 선택해야 하므로 예외 처리 */
input, textarea {
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
}

/* General Page Layout */
.page {
  display: grid;
  grid-template-columns: 380px 1fr 400px;
  width: 100vw;
  height: 100vh;
  padding: 1rem;
  gap: 1rem;
  box-sizing: border-box;
  overflow: hidden;
  background-color: #f0f0f0;
  font-family: 'Inter', sans-serif;
  user-select: none;
}

/* Left Sidebar: Controls */
#controls {
  background-color: #ffffff;
  padding: 1.5rem;
  border-radius: 12px;
  overflow-y: auto;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
  gap: 0.7rem; /* Reduced by 30% from 1rem */
}

#controls h3 { margin: 0 0 0.1rem 0; font-size: 1.2rem; color: #343a40; }
#controls p { font-size: 0.75rem; color: #6c757d; margin: 0 0 0.2rem 0; }
#controls label { font-size: 0.75rem; font-weight: 600; color: #495057; display: flex; justify-content: space-between; align-items: center; margin-top: 0.55rem; /* Reduced by 30% from 0.8rem */ margin-bottom: 0; text-transform: uppercase; }
#controls .value-label { font-weight: 400; color: #343333; background-color: #e0e0e0; padding: 0.2rem 0.5rem; border-radius: 4px; }

.segmented-control {
  display: flex;
  width: 97%;
  background-color: #f0f0f0;
  border-radius: 8px;
  padding: 4px;
}

.segment-button { flex-grow: 1; padding: 0.5rem 0.25rem; border: none; background-color: transparent; cursor: pointer; font-size: 0.75rem; color: #6c757d; font-weight: 600; border-radius: 6px; transition: all 0.2s ease-in-out; }
.segment-button.active { background-color: #ffffff; color: #343333; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); font-weight: 700; }

.multi-brand-selector {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  margin-top: -0.2rem;
  background-color: #f0f0f0;
  padding: 4px;
  border-radius: 8px;
  width: 100%;
  box-sizing: border-box;
}

.brand-select-button { padding: 0.5rem 0.25rem; border: none; background-color: transparent; cursor: pointer; font-size: 0.6rem; color: #6c757d; font-weight: 600; border-radius: 6px; transition: all 0.2s ease-in-out; text-align: center; }
.brand-select-button:hover { background-color: #e0e0e0; }
.brand-select-button.active { background-color: #ffffff; color: #343333; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); font-weight: 700; }

#specZoneSummary { background-color: #f8f9fa; border: 1px solid #e9ecef; border-radius: 8px; padding: 1rem; margin-top: 1rem; }
#specZoneSummary h4 { margin: 0 0 0.75rem 0; font-size: 1rem; color: #343a40; border-bottom: 1px solid #dee2e6; padding-bottom: 0.5rem; }
#specZoneSummary #specZoneBody { font-size: 0.875rem; color: #495057; line-height: 1.6; }

/* Main Content Area */
.main {
  display: flex;
  flex-direction: column;
  overflow: hidden;
  padding: 1.5rem;
  background-color: #ffffff;
  border-radius: 12px;
}

#titleBar {
  display: flex;
  justify-content: space-between;
  align-items: baseline; /* Align items by their baselines */
  margin-bottom: 0.75rem;
  border-bottom: 1px solid #dee2e6;
  padding-bottom: 0.75rem;
  position: relative; /* Add positioning context for tooltip */
}

#titleBar h1 { font-size: 2rem; margin: 0; line-height: 1.2; color: #212529; font-weight: 800; }
#titleBar span { color: #6c757d; font-size: 0.875rem; }
#matchCountText { background-color: #343a40; color: #ffffff !important; opacity: 1; border: none; padding: 0.4rem 0.6rem; border-radius: 6px; font-weight: 700; font-size: 0.8rem; white-space: nowrap; position: relative; top: -10px; }

#chart { flex-grow: 1; min-height: 0; position: relative; user-select: auto !important; }

/* Selection Tooltip (on scatterplot) */
#selection-tooltip {
  position: absolute;
  top: 2.0rem;
  right: 0.2rem;
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  width: 180px;
  background-color: #ffffff;
  border: 1px solid #e9ecef;
  border-radius: 8px;
  padding: 0.75rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  pointer-events: auto;
}

.selection-tooltip-main-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.25rem;
}

.selection-tooltip-main-header h4 {
  margin: 0;
  font-size: 0.8rem;
  font-weight: 700;
  color: #343a40;
}

.tooltip-close-button {
  width: 20px;
  height: 20px;
  border: none;
  background-color: transparent;
  cursor: pointer;
  position: relative;
  padding: 0;
}

.tooltip-close-button::before,
.tooltip-close-button::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 14px;
  height: 2px;
  background-color: #6c757d;
  border-radius: 1px;
}

.tooltip-close-button::before {
  transform: translate(-50%, -50%) rotate(45deg);
}

.tooltip-close-button::after {
  transform: translate(-50%, -50%) rotate(-45deg);
}

.tooltip-close-button:hover::before,
.tooltip-close-button:hover::after {
  background-color: #343a40;
}


.selection-tooltip-item {
  border: none;
  padding: 0;
  box-shadow: none;
}

.selection-tooltip-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  border-bottom: none;
  padding-bottom: 0;
  margin-bottom: 0;
}

.selection-tooltip-logo-bg {
  border-radius: 6px;
  padding: 4px;
  flex-shrink: 0;
}

.selection-tooltip-logo-container {
  width: 32px; /* Reduced by 10% from 36px */
  height: 32px; /* Reduced by 10% from 36px */
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.selection-tooltip-logo {
  width: 29px; /* Reduced by 10% from 32px */
  height: 29px; /* Reduced by 10% from 32px */
  object-fit: contain;
}

.selection-tooltip-brand-info {
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.selection-tooltip-brand-info b {
  font-size: 0.8rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.selection-tooltip-body {
  font-size: 0.75rem;
  color: #6c757d;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.scatterlayer .trace .points path { cursor: pointer !important; }

/* Right Sidebar: Summaries */
#right-sidebar {
  background-color: #ffffff;
  padding: 1.5rem;
  border-radius: 12px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

#topPicksSummary, #mySelections {
  background-color: #f8f9fa;
  border: 1px solid #e9ecef;
  border-radius: 8px;
  padding: 1rem;
}

#topPicksSummary h4, #mySelections h4 {
  margin: 0 0 0.6rem 0; /* Adjusted margin-bottom for consistent spacing */
  font-size: 1rem;
  color: #343a40;
  border-bottom: 1px solid #dee2e6;
  padding-bottom: 0.5rem;
}

#topPicksBody {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.top-pick-card {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem;
  border: 1px solid #dee2e6;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  background-color: #ffffff;
}

.top-pick-card:hover {
  background-color: #f0f0f0;
  border-color: #343a40; /* Black-grey tone */
}

.top-pick-card.active {
  box-shadow: 0 0 0 2px white, 0 0 0 4px #343a40; /* Black-grey tone */
  font-weight: 700;
  background-color: #e9ecef; /* Light grey */
}

.top-pick-rank {
  font-size: 1.5rem;
  font-weight: 900;
  border-radius: 6px;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.top-pick-details {
  display: flex;
  flex-direction: column;
}

.top-pick-details b {
  font-size: 0.9rem;
  color: #212529;
}

.top-pick-details small {
  font-size: 0.75rem;
  color: #6c757d;
}

#mySelectionsBody {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

#mySelectionsBody p {
  font-size: 0.75rem;
  color: #6c757d;
  margin: 0;
  padding: 0.5rem 0;
  margin-top: 1rem;
  text-align: center;
}

.my-selections-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #dee2e6;
  padding-bottom: 0.5rem;
  margin-bottom: 1rem;
}

#mySelections h4 {
  margin: 0;
  font-size: 1rem;
  color: #343a40;
  border-bottom: none;
  padding-bottom: 0;
}

.my-selections-header .clear-button {
  padding: 0.4rem 1.0rem;
  background-color: #ffffff;
  color: #343a40;
  border: 1px solid #343a40;
  border-radius: 9px;
  cursor: pointer;
  font-size: 0.7rem;
  font-weight: 700;
  transition: background-color 0.2s;
  text-transform: uppercase;
}
.my-selections-header .clear-button:hover {
  background-color: #f8f9fa;
}

.selection-cards-container {
  display: grid;
  gap: 0.5rem;
}

.selection-cards-container.count-1 {
  grid-template-columns: repeat(2, minmax(0, 1fr)); /* Two columns, but only one item will fill the first */
  justify-content: start; /* Align to the start */
}

.selection-cards-container.count-2 {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.selection-cards-container.count-3 {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.selection-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  border: 1px solid #dee2e6;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  background-color: #f8f9fa;
  overflow: hidden; /* Contain the background color */
  padding: 0;
}

.selection-card:hover {
  border-color: var(--brand-color);
  background-color: #ffffff;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.05);
}

.selection-card-logo-container {
  width: 100%;
  aspect-ratio: 2 / 1; /* Horizontally long, as requested */
  padding: 0.5rem;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.selection-card-logo {
  height: 100%;
  width: auto;
  max-width: 100%;
  object-fit: contain;
}

.selection-card-details {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 0.5rem; /* Add padding for text */
  gap: 0.25rem;
}

.selection-card-brand {
  font-weight: 700;
  font-size: 0.85rem;
}

.selection-card-model {
  font-size: 0.75rem;
  color: #6c757d;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.selection-actions {
  display: flex;
  gap: 0.5rem;
  margin-top: 0.5rem;
}

.selection-actions .compare-button {
  flex-grow: 1;
  font-size: 1.0rem;
  font-weight: bold;
  margin: 0;
  background-color: #343a40;
  color: white;
  padding: 0.75rem;
  border: none;
  border-radius: 6px;
  text-align: center;
  cursor: pointer;
  transition: background-color 0.2s;
  text-transform: uppercase;
}

.selection-cards-container.count-3 .selection-card-model {
  font-size: 0.6rem; /* Smaller font size when 3 cards are displayed */
}

/* Brands in Your Zone Section */
#brandSummary {
  background-color: #f8f9fa;
  border: 1px solid #e9ecef;
  border-radius: 8px;
  padding: 1rem 0;
}

#brandSummary h4 {
  margin: 0;
  font-size: 1rem;
  color: #343a40;
}

.brand-summary-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #dee2e6;
  padding: 0 1rem 0.5rem 1rem;
  margin-bottom: 0.75rem;
}

.brand-clear-button {
  padding: 0.4rem 1.0rem;
  background-color: #ffffff;
  color: #000000;
  border: 1px solid #000000;
  border-radius: 9px;
  cursor: pointer;
  font-size: 0.7rem;
  font-weight: 700;
  transition: background-color 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  text-transform: uppercase;
}
.brand-clear-button:hover {
  background-color: #f0f0f0;
}

.brand-clear-button.hidden {
  visibility: hidden;
  opacity: 0;
  pointer-events: none;
}

#brandSummaryBody ul {
  list-style: none;
  padding: 0 1rem;
  margin: 0;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0.5rem;
}

#brandSummaryBody .empty-state-message {
  font-size: 0.75rem;
  color: #6c757d;
  text-align: center;
  margin-top: 1rem;
  padding: 0.5rem 0;
}

#brandSummaryBody li.brand-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-weight: 600;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 8px;
  transition: all 0.2s;
  border: 1px solid transparent;
  background-color: #f0f0f0;
  min-height: 60px;
}

#brandSummaryBody li.brand-item:not(.active-brand):hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

#brandSummaryBody li.active-brand {
  box-shadow: 0 0 0 2px white, 0 0 0 4px #343a40; /* Black-grey tone */
  font-weight: 700;
  background-color: #e9ecef;
}

.brand-info {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
}

.brand-logo {
  width: 80px;
  height: 80px;
  object-fit: contain;
  background-color: transparent;
  border-radius: 4px;
  padding: 0;
}

.brand-name-text {
  font-size: 0.8rem; /* Reduced by 20% from estimated 1rem */
}

.badge {
  width: calc(100% - 1rem);
  padding: 0.1rem 0.5rem;
  border-radius: 10px;
  font-size: 0.75rem;
  font-weight: 700;
  background-color: #000000;
  color: #ffffff;
  border: none;
  margin-top: 0.2rem;
  text-align: center;
}

/* Power Slider Specifics */
.power-slider-container {
  padding: 0 0 1rem 0;
  margin-top: -0.5rem;
}

.power-slider-input {
  -webkit-appearance: none;
  width: 100%;
  background: transparent;
  margin: 0;
}

.power-slider-input:focus {
  outline: none;
}

.power-slider-input::-webkit-slider-runnable-track {
  height: 6px;
  background: #e0e0e0;
  border-radius: 3px;
}

.power-slider-input::-webkit-slider-thumb {
  -webkit-appearance: none;
  height: 16px;
  width: 16px;
  background-color: #ffffff;
  border: 2px solid #343a40; /* Black-grey tone */
  border-radius: 50%;
  margin-top: -5px;
  cursor: grab;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.power-slider-labels {
  display: flex;
  justify-content: space-between;
  font-size: 0.7rem;
  color: #6c757d;
  padding: 0;
  margin-top: 0.25rem;
}

.power-slider-labels span {
  flex: 0;
  text-align: center;
}

/* Custom Range Slider Styles */
.range-slider-container {
  padding: 0 0 1rem 0;
  position: relative;
}

.range-slider-track {
  position: relative;
  height: 6px;
  background-color: #e0e0e0;
  border-radius: 3px;
  margin: 0 6px;
}

.range-slider-range {
  position: absolute;
  height: 100%;
  background-color: #343333;
  border-radius: 3px;
}

.range-slider-handle {
  position: absolute;
  top: 50%;
  width: 10px;
  height: 10px;
  background-color: #ffffff;
  border: 1px solid #343333;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  cursor: grab;
  z-index: 2;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.range-slider-handle:active {
  cursor: grabbing;
  box-shadow: 0 0 0 3px rgba(52, 51, 51, 0.2);
}

.comparison-overlay {
  position: fixed;
  inset: 0;
  background-color: transparent;
  z-index: 1000;
  pointer-events: none;
}

/* New Styles for Radar Chart & Table View */
#comparison-container {
  position: fixed;
  inset: 0;
  background-color: #ffffff;
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
  display: flex;
  flex-direction: column;
  padding: 0 1.5rem 1rem 1.5rem; /* Remove top padding, keep others */
  pointer-events: auto;
  transition: all 0.3s ease-out;
  box-sizing: border-box;
  overflow-y: auto; /* Enable scrolling for the whole modal */
}

.comparison-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-shrink: 0;
  border-bottom: 1px solid #e9ecef;
  padding-bottom: 1rem;
  margin-bottom: 1rem;
  position: sticky; /* Make header sticky */
  top: 0; /* Stick to the very top */
  background-color: #ffffff; /* Add background to prevent content from showing through */
  z-index: 10; /* Ensure it's above other content */
  padding-top: 1.1rem; /* Apply top padding directly to the sticky header */
}
#comparison-container h4 {
  margin: 0;
  font-size: 1.2rem;
}

.comparison-back-button {
  padding: 0.5rem 1rem;
  background-color: #e9ecef;
  border: none;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  transition: background-color 0.2s;
}
.comparison-back-button:hover {
  background-color: #dee2e6;
}

.comparison-back-button.close-button {
  position: absolute;
  top: 19px;
  right: 5px; /* Moved further to the right */
  background-color: #343a40;
  color: white;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.0rem;
  font-weight: bold;
  padding: 0;
  box-shadow: none;
  z-index: 10;
  overflow: hidden;
}

.comparison-back-button.close-button::before,
.comparison-back-button.close-button::after {
  content: '';
  position: absolute;
  width: 13px; /* Reduced by 20% from 16px (16 * 0.8 = 12.8 -> 13px) */
  height: 3px; /* Kept same thickness */
  background-color: white;
  border-radius: 1px;
  transition: background-color 0.2s;
}

.comparison-back-button.close-button::before {
  transform: translate(-50%, -50%) rotate(45deg);
  top: 50%;
  left: 50%;
}

.comparison-back-button.close-button::after {
  transform: translate(-50%, -50%) rotate(-45deg);
  top: 50%;
  left: 50%;
}

.comparison-back-button.close-button:hover {
  background-color: #212529;
}

.comparison-back-button.close-button:hover::before,
.comparison-back-button.close-button:hover::after {
  background-color: #e0e0e0; 
}

.comparison-racket-headers {
  display: flex;
  justify-content: space-around;
  gap: 1rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid #e9ecef;
  flex-shrink: 0;
  margin-bottom: 1rem; /* Added margin for spacing */
}

.racket-header-item {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-basis: 0;
  flex-grow: 1;
  background-color: #ffffff;
  padding: 12px;
  border-radius: 8px;
  border-top: 4px solid; /* Color will be set inline */
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.header-logo-container {
  width: 45px;
  height: 45px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.header-logo-container img {
  width: 30px;
  height: 30px;
  object-fit: contain;
}

.header-brand-info {
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.header-brand-name {
  font-weight: 700;
  font-size: 1rem;
  white-space: nowrap;
}

.header-model-name {
  font-size: 0.8rem;
  color: #6c7c8a;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.comparison-content-split {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  flex-shrink: 0; /* Prevent sections from shrinking */
}

.chart-section {
  min-height: 400px; /* Give chart enough space */
}

.specs-table-container {
  display: flex;
  flex-direction: column;
  border: 1px solid #e9ecef;
  border-radius: 8px;
}

.specs-table-header {
  display: grid;
  grid-template-columns: 120px repeat(3, 1fr);
  gap: 1rem;
  padding: 0.75rem 1rem;
  border-bottom: 2px solid #dee2e6;
  background-color: #f8f9fa;
}

.spec-value-header {
  font-size: 0.9rem;
  font-weight: 700;
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.specs-table-row {
  display: grid;
  grid-template-columns: 120px repeat(3, 1fr);
  gap: 1rem;
  align-items: center;
  padding: 0.8rem 1rem;
  border-bottom: 1px solid #e9ecef;
}

.specs-table-row:last-child {
  border-bottom: none;
}

.spec-label {
  font-weight: 600;
  font-size: 0.8rem;
  color: #495057;
  text-align: left;
}

.spec-value {
  font-size: 0.85rem;
  font-weight: 500;
  text-align: center;
  width: fit-content;
  justify-self: center;
  padding: 0.4rem 0.8rem; /* Apply padding always, affecting the fit-content width */
  border-radius: 8px; /* Apply border-radius always */
  transition: all 0.2s ease-in-out; /* Smooth transition for active state */
}

.spec-value:hover:not(.active-cell) {
  background-color: #f0f0f0; /* Lighter grey on hover */
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
  transform: scale(1.02); /* Subtle pop on hover */
  cursor: pointer;
}

.spec-value.active-cell {
  background-color: #e9ecef;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  transform: scale(1.05); /* Make it pop slightly */
}

/* --- Comparison brand/color cards above radar --- */
.comparison-racket-headers {
  display: grid;
  gap: 0.3rem;
  padding: 0;
  border: none;
  background: transparent;
  margin-bottom: 0.5rem;
}

.comparison-racket-headers.two {
  grid-template-columns: repeat(2, 1fr);
}

.comparison-racket-headers.three {
  grid-template-columns: repeat(3, 1fr);
}

/* 컬러 박스 카드화 */
.racket-header-item.color-card {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  border-radius: 10px;
  padding: 0.75rem 0.7rem;
  background-color: var(--brand-color);
  color: var(--brand-text-color);
  border: 1px solid transparent;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
}

/* 로고 컨테이너는 카드 안에서만 보이게 */
.racket-header-item.color-card .header-logo-container {
  width: 50px;
  height: 50px;
  border-radius: 6px;
  background-color: rgba(255,255,255,0.22);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.racket-header-item.color-card .header-logo-container img {
  width: 50px;
  height: 50px;
  object-fit: contain;
}

/* 텍스트 컬러 통일 */
.racket-header-item.color-card .header-brand-name,
.racket-header-item.color-card .header-model-name {
  color: var(--brand-text-color);
}

.racket-header-item.color-card .header-model-name {
  opacity: 0.85;
}

/* 차트 섹션이 카드 아래에서 여유 있게 시작 */
.chart-section {
  margin-top: 0.25rem;
}

/* ===== Brand column band style for comparison table ===== */

.specs-table-container.band-cols {
  background: #ffffff;
  border: 1px solid #e9ecef;
  border-radius: 8px;
  overflow: hidden;
}

/* 카드형 row 느낌 제거 → 밴드형으로 */
.specs-table-header {
  display: grid;
  grid-template-columns: var(--col-style);
  gap: 0.5rem;
  padding: 0.8rem 0.5rem;
  border-bottom: 2px solid #e9ecef;
  background-color: #f8f9fa; /* Light gray background for header */
}

.brand-model-header {
  font-size: 0.8rem;
  font-weight: 600;
  text-align: center !important;
  color: #343a40;
  line-height: 1.3;
  display: block !important;
}

.specs-table-row {
  background: transparent;
  border: none;
  border-bottom: 1px solid #e9ecef;
  border-radius: 0;
  margin: 0;
  padding: 0.6rem 0.9rem;
}

.specs-table-row:last-child {
  border-bottom: none;
}

/* 라벨 컬럼은 기본 */
.spec-label {
  background: transparent;
}

/* 브랜드 컬럼 밴드 셀 */
.brand-col-header,
.brand-col-cell {
  border-radius: 0;
  padding: 0.25rem 0.25rem;
}

/* 헤더 강조 */
.brand-col-header {
  font-size: 1.0rem;
  font-weight: 800;
  color: #000000;
}

/* 값 셀 */
.brand-col-cell {
  font-size: 0.85rem;
  font-weight: 700;
  color: #000000;
}

/* 컬럼 밴드가 끊겨 보이지 않도록 gap 최소화 */
.specs-table-header,
.specs-table-row {
  gap: 0.5rem;
}

/* ===== Long vertical BRAND COLOR FILLS (no outline) ===== */

.specs-table-container.band-cols {
  position: relative;
  background: transparent;
  border: none;
  border-radius: 0;
  overflow: visible;
}

/* ✅ 브랜드 컬러 세로 fill 레이어 */
.brand-fill-layer {
  display: none; /* Hide the vertical color bands */
}

/* 라벨 컬럼 영역 */
.label-band {
  background: transparent;
}

/* ✅ 2개/3개 모두 자동으로 길게 이어지는 컬러 박스 */
.brand-fill {
  height: 100%;
  border-radius: 6px;
  opacity: 0.5; /* 요청: 50% */
}

/* ✅ 텍스트/표는 컬러 fill 위로 */
.specs-table-body,
.specs-table-row {
  position: relative;
  z-index: 1;
  background: transparent;
}

/* 행 구분선만 유지 */
.specs-table-row {
  border: none;
  border-bottom: 1px solid #e9ecef; /* Subtle row separator */
  border-radius: 8px; /* Add radius for highlighting effect */
  margin: 0;
  padding: 0.8rem 0.5rem; /* Adjust padding slightly */
  background: transparent;
  transition: all 0.2s ease-in-out;
  cursor: pointer; /* Add pointer cursor */
}

.specs-table-row.active-spec {
  box-shadow: 0 0 0 2px white, 0 0 0 4px #343a40;
  background-color: #e9ecef;
  transform: scale(1.02);
}

.specs-table-row:last-child {
  border-bottom: none;
}

/* 값/헤더 텍스트 중앙 정렬 유지 */
.spec-value {
  text-align: center;
}

/* 혹시 남아 있는 '선만 있는 박스' 스타일 무력화(안전장치) */
.brand-band-layer,
.brand-band {
  display: none !important;
}

/* 카드가 칸 안에서만 줄어들게 */
.racket-header-item.color-card {
  box-sizing: border-box;
  min-width: 0;

  display: flex;
  align-items: center;
  gap: 0.3rem;
  padding: 0.5rem 1rem;
  border-radius: 10px;
  background: var(--brand-color);
  color: var(--brand-text-color);
}

/* 텍스트가 줄어들 수 있게 */
.header-brand-info {
  min-width: 0;
}

.header-brand-name,
.header-model-name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ✅ 2/3개 모두 자동 폰트 스케일 */
.header-brand-name {
  font-size: clamp(0.9rem, 1.1vw, 1.15rem);
  font-weight: 800;
}

.header-model-name {
  font-size: clamp(0.75rem, 0.95vw, 0.95rem);
}

/* 텍스트 영역 overflow 안전장치 */
.header-brand-info {
  min-width: 0;
}

.header-brand-name,
.header-model-name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* =========================
   FIX: 비교창 상단 카드 여백 통일
   - 카드 사이 gap
   - 좌/우 바깥 여백 = gap
========================= */

.comparison-racket-headers {
  --header-gap: 10px;             /* 원하는 여백 값 */
  display: grid !important;
  gap: var(--header-gap) !important;
  padding: 0 var(--header-gap) !important;  /* ⭐ 바깥 여백을 gap과 동일하게 */
  box-sizing: border-box;
  width: 100%;
}

.comparison-racket-headers.two {
  grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
}

.comparison-racket-headers.three {
  grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
}

.racket-header-item.color-card {
  width: 100%;
  min-width: 0;
}


.custom-axis-label {
  position: absolute;
  background-color: #cacaca;
  color: #ffffff;
  padding: 0.3rem 0.8rem;
  border-radius: 5px;
  font-size: 0.6rem;
  font-weight: 600;
  z-index: 1;
  pointer-events: none;
}
.custom-xaxis-label { bottom: 45px; right: 10px; left: auto; transform: none; }
.custom-yaxis-label { top: 12%; left: -7px; transform: translateY(-50%) rotate(-90deg); }

/* Match Summary Tooltip Styles */
.match-count-container {
  position: relative;
  padding-bottom: 15px; /* Buffer zone for mouse movement */
  margin-bottom: 10px; /* Counteract the padding to maintain layout */
}

#match-summary-tooltip {
  position: absolute;
  top: calc(100% + 5px); /* Position below the container with a gap */
  right: 0;
  width: 270px;
  max-height: 500px;
  margin-top: -10px; /* Pull tooltip up to fill the gap */
  overflow-y: auto;
  background-color: #2f2f2f !important;
  color: #ffffff;
  border: 1px solid #242424;
  border-radius: 8px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  z-index: 1010;
  font-size: 0.6rem;
  text-align: left;
  padding: 0; /* Remove overall padding from tooltip to allow children to control it */
}

/* Custom Scrollbar for Match Summary Tooltip */
#match-summary-tooltip::-webkit-scrollbar {
  width: 6px;
  background-color: transparent;
}

#match-summary-tooltip::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 3px;
}

#match-summary-tooltip:hover::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.3);
}

#match-summary-tooltip::before {
  content: '';
  position: absolute;
  top: -5px; /* Position the tail above the tooltip */
  right: 0px; /* Align with the button */
  border-left: 1px solid transparent;
  border-right: 10px solid transparent;
  border-bottom: 10px solid #4a4a4a; /* Tail color matches header */
}

.match-summary-header {
  padding: 0.5rem 0.5rem; /* Consistent horizontal padding */
  border-bottom: 1px solid #b4b4b4;
  background-color: #4a4a4a;
  position: sticky;
  top: 0;
  font-size: 0.8rem;
}

.match-summary-list li {
  padding: 0.25rem 0.5rem; /* Consistent horizontal padding */
  border-bottom: 1px solid #acacac;
  display: flex;
  margin-left: -4em;
  align-items: center;
  flex-wrap: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  gap: 0.25rem;
}

.match-summary-list li strong {
  flex-shrink: 0;
  min-width: fit-content;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 0.6rem !important; /* Force font size */
  margin-right: 0.1em;
  white-space: nowrap;
}

.match-summary-list li .match-summary-model {
  flex-shrink: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 0.6rem !important; /* Force font size */
  margin-right: 0.2em;
  white-space: nowrap;
}

.match-summary-specs {
  display: flex;
  gap: 0.3rem;
  font-size: 0.6rem !important;
  color: #ffffff;
  margin-top: 0;
  flex-shrink: 0;
  white-space: nowrap;
}

.match-summary-specs span {
  font-size: 0.5rem !important; /* Ensure font size is applied to spans */
}

.js-plotly-plot .plotly .scatterlayer .trace .fill path {
  mix-blend-mode: multiply;
}

.hovertext {
  background-color: rgba(255, 255, 255, 0.9) !important;
  border-color: rgba(0, 0, 0, 0.5) !important;
  color: #000000 !important;
}
